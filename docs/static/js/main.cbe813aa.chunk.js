(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,a){},51:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(19),r=a.n(s),l=a(13),o=a(5),i=a(11),j=a(6),d=a(20),b=a(10),m=(a(32),a(17)),u=a.n(m),h=a(22),x="https://buen-sabor-api.herokuapp.com/api",O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(x,"/").concat(e);return"GET"===a?fetch(c):fetch(c,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(x,"/").concat(e),n=localStorage.getItem("token")||"";return"GET"===a?fetch(c,{method:a,headers:{"x-token":n}}):fetch(c,{method:a,headers:{"Content-type":"application/json","x-token":n},body:JSON.stringify(t)})},f="[auth] Finish cheking login state",g="[auth] login",v="[auth] Logout",N=a(26),w=a.n(N),k=function(){return{type:f}},y=function(e){return{type:g,payload:e}},S=function(){return{type:v}},C=a(1),E=function(){var e=Object(b.b)(),t=Object(c.useState)({email:"",password:""}),a=Object(d.a)(t,2),n=a[0],s=a[1],r=n.email,o=n.password,m=function(e){var t=e.target;s(Object(j.a)(Object(j.a)({},n),{},Object(i.a)({},t.name,t.value)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("section",{className:"ftco-section",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-md-12 col-lg-10",children:Object(C.jsxs)("div",{className:"wrap d-md-flex",children:[Object(C.jsx)("div",{className:"text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last",children:Object(C.jsxs)("div",{className:"text w-100",children:[Object(C.jsx)("h2",{children:"Bienvenido A El Buen Sabor"}),Object(C.jsx)("p",{children:"Aun No Tienes Una Cuenta?"}),Object(C.jsx)(l.b,{to:"/login/new-user",children:Object(C.jsx)("a",{href:"#!",className:"btn btn-white btn-outline-white",children:"Registrarse"})})]})}),Object(C.jsxs)("div",{className:"login-wrap p-4 p-lg-5",children:[Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("div",{className:"w-100",children:Object(C.jsx)("h3",{className:"mb-4",children:"Iniciar Sesi\xf3n"})}),Object(C.jsx)("div",{className:"w-100",children:Object(C.jsx)("p",{className:"social-media d-flex justify-content-end",children:Object(C.jsx)("a",{href:"#!",className:"social-icon d-flex align-items-center justify-content-center",children:Object(C.jsx)("span",{className:"fa fa-google"})})})})]}),Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var a=Object(h.a)(u.a.mark((function a(c){var n,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O("auth/login",{email:e,password:t},"POST");case 2:return n=a.sent,a.next=5,n.json();case 5:s=a.sent,console.log(s),"Login OK"===s.msg?(localStorage.setItem("token",s.token),localStorage.setItem("token-init-date",(new Date).getTime()),c(y({uid:s.usuario.uid,name:s.usuario.nombre,resto:s.usuario}))):w.a.fire("Error","".concat(s.msg),"warning");case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,o))},className:"signin-form",children:[Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Email"}),Object(C.jsx)("input",{name:"email",type:"text",className:"form-control",placeholder:"Ej.email@gmail.com",required:!0,onChange:m})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"password",children:"Contrase\xf1a"}),Object(C.jsx)("input",{name:"password",type:"password",className:"form-control",placeholder:"Contrase\xf1a",required:!0,onChange:m})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("button",{type:"submit",className:"form-control btn btn-primary submit px-3",children:"Iniciar Sesi\xf3n"})}),Object(C.jsxs)("div",{className:"form-group d-md-flex",children:[Object(C.jsx)("div",{className:"w-50 text-left",children:Object(C.jsxs)("label",{className:"checkbox-wrap checkbox-primary mb-0",children:["Remember Me",Object(C.jsx)("input",{type:"checkbox",checked:!0}),Object(C.jsx)("span",{className:"checkmark"})]})}),Object(C.jsx)("div",{className:"w-50 text-md-right",children:Object(C.jsx)("a",{href:"#!",children:"Forgot Password"})})]})]})]})]})})})})})})},T=function(){var e=Object(b.b)(),t=Object(c.useState)({nombre:"",apellido:"",email:"",password:"",telefono:"",rol:"USER_ROLE"}),a=Object(d.a)(t,2),n=a[0],s=a[1],r=n.nombre,o=n.apellido,m=n.email,x=n.password,p=n.telefono,f=n.rol,g=n.localidad,v=n.calle,N=n.numero,k=n.domicilio,S=function(e){var t,a,c=e.target;s(Object(j.a)(Object(j.a)({},n),{},(a={},Object(i.a)(a,c.name,c.value),Object(i.a)(a,"domicilio",(t={calle:v},Object(i.a)(t,c.name,c.value),Object(i.a)(t,"localidad",g),Object(i.a)(t,c.name,c.value),Object(i.a)(t,"numero",N),Object(i.a)(t,c.name,c.value),t)),a)))};return Object(C.jsx)("section",{className:"ftco-section",children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"row justify-content-center"}),Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-md-12 col-lg-10",children:Object(C.jsxs)("div",{className:"wrap d-md-flex",children:[Object(C.jsx)("div",{className:"text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last",children:Object(C.jsxs)("div",{className:"text w-100",children:[Object(C.jsx)("h2",{children:"Bienvenido A El Buen Sabor"}),Object(C.jsx)("p",{children:"Si Ya Tienes Cuenta"}),Object(C.jsx)(l.b,{to:"/login",children:Object(C.jsx)("a",{href:"#!",className:"btn btn-white btn-outline-white",children:"Iniciar Sesi\xf3n"})})]})}),Object(C.jsxs)("div",{className:"login-wrap p-4 p-lg-5",children:[Object(C.jsxs)("div",{className:"d-flex",children:[Object(C.jsx)("div",{className:"w-100",children:Object(C.jsx)("h3",{className:"mb-4",children:"Registrarse"})}),Object(C.jsx)("div",{className:"w-100",children:Object(C.jsx)("p",{className:"social-media d-flex justify-content-end",children:Object(C.jsx)("a",{href:"#!",className:"social-icon d-flex align-items-center justify-content-center",children:Object(C.jsx)("span",{className:"fa fa-google"})})})})]}),Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log(n),e(function(e,t,a,c,n,s,r){return function(){var l=Object(h.a)(u.a.mark((function l(o){var i,j;return u.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,O("usuarios",{nombre:e,apellido:t,email:a,password:c,telefono:n,rol:s,domicilio:r},"POST");case 2:return i=l.sent,l.next=5,i.json();case 5:"Login OK"===(j=l.sent).msg?(localStorage.setItem("token",j.token),localStorage.setItem("token-init-date",(new Date).getTime()),o(y({uid:j.usuario.uid,name:j.usuario.nombre}))):w.a.fire("","".concat(j.msg),"success");case 7:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}(r,o,m,x,p,f,k))},className:"signin-form",children:[Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Nombre"}),Object(C.jsx)("input",{name:"nombre",type:"text",className:"form-control",placeholder:"Ej. Jhon",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Apellido"}),Object(C.jsx)("input",{name:"apellido",type:"text",className:"form-control",placeholder:"Ej. Doe ",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Email"}),Object(C.jsx)("input",{name:"email",type:"text",className:"form-control",placeholder:"miemail@gmail.com",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"password",children:"Contrase\xf1a"}),Object(C.jsx)("input",{name:"password",type:"password",className:"form-control",placeholder:"Contrase\xf1a",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Telefono"}),Object(C.jsx)("input",{name:"telefono",type:"number",className:"form-control",placeholder:"2618754345",required:!0,onChange:S})]}),Object(C.jsx)("div",{className:"w-100",children:Object(C.jsx)("h3",{className:"mb-4",children:"Direcci\xf3n"})}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Localidad"}),Object(C.jsx)("input",{name:"localidad",type:"text",className:"form-control",placeholder:"Ej. Maipu",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Calle"}),Object(C.jsx)("input",{name:"calle",type:"text",className:"form-control",placeholder:"Ej. Santa Teresa",required:!0,onChange:S})]}),Object(C.jsxs)("div",{className:"form-group mb-3",children:[Object(C.jsx)("label",{className:"label",for:"name",children:"Numero"}),Object(C.jsx)("input",{name:"numero",type:"number",className:"form-control",placeholder:"235",required:!0,onChange:S})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("button",{type:"submit",className:"form-control btn btn-primary submit px-3",children:"Registrarse"})}),Object(C.jsxs)("div",{className:"form-group d-md-flex",children:[Object(C.jsx)("div",{className:"w-50 text-left",children:Object(C.jsxs)("label",{className:"checkbox-wrap checkbox-primary mb-0",children:["Recordarme",Object(C.jsx)("input",{type:"checkbox",checked:!0}),Object(C.jsx)("span",{className:"checkmark"})]})}),Object(C.jsx)("div",{className:"w-50 text-md-right",children:Object(C.jsx)("a",{href:"#!",children:"Olvide Mi Contrase\xf1a"})})]})]})]})]})})})]})})},D=(a(51),function(){var e=Object(b.c)((function(e){return e.auth.resto})),t=e.nombre,a=e.img,c=Object(b.b)();return Object(C.jsxs)("nav",{class:"navbar navbar-dark bg-dark navbar-expand-sm",children:[Object(C.jsxs)("a",{class:"navbar-brand",href:"#!",children:[Object(C.jsx)("img",{src:"https://miro.medium.com/max/320/0*_rAD9NgK7l6KSlNc.png",width:"60",height:"60",alt:"logo"}),"\xa0 El Buen Sabor"]}),Object(C.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar-list-4","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{class:"navbar-toggler-icon"})}),Object(C.jsx)("div",{class:"collapse navbar-collapse ml-auto",id:"navbar-list-4",children:Object(C.jsx)("ul",{class:"navbar-nav",children:Object(C.jsxs)("li",{class:"nav-item dropdown",children:[Object(C.jsx)("a",{class:"nav-link dropdown-toggle",href:"#!",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(C.jsx)("img",{src:a,width:"40",height:"40",class:"rounded-circle",alt:"profilePicture"})}),Object(C.jsxs)("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(C.jsxs)("a",{class:"dropdown-header",href:"#!",children:["Hola ",t," !"]}),Object(C.jsx)("div",{class:"dropdown-divider"}),Object(C.jsx)("a",{class:"dropdown-item",href:"#!",children:"Ver Mi Perfil"}),Object(C.jsx)("a",{class:"dropdown-item",href:"#!",onClick:function(){c((function(e){localStorage.clear(),e(S())}))},children:"Cerrar Sesi\xf3n"})]})]})})})]})}),I=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(D,{}),Object(C.jsx)("div",{children:Object(C.jsx)("h1",{children:"Lista De Comidas xD"})})]})},L=a(21),A=function(e){var t=e.isAuthenticated,a=e.component,c=Object(L.a)(e,["isAuthenticated","component"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{component:function(e){return t?Object(C.jsx)(o.a,{to:"/"}):Object(C.jsx)(a,Object(j.a)({},e))}}))},q=function(e){var t=e.isAuthenticated,a=e.component,c=Object(L.a)(e,["isAuthenticated","component"]);return Object(C.jsx)(o.b,Object(j.a)(Object(j.a)({},c),{},{component:function(e){return t?Object(C.jsx)(a,Object(j.a)({},e)):Object(C.jsx)(o.a,{to:"/login"})}}))},_=a(34),M=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth})),a=t.checking,n=t.uid;return Object(c.useEffect)((function(){e(function(){var e=Object(h.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("auth/renewtoken");case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,console.log(c),c.ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(y({uid:c._id,name:c.nombre,resto:c.usuario}))):t(k());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),console.log(a),a?Object(C.jsx)(_.MeteorRainLoading,{}):Object(C.jsx)(l.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(A,{exact:!0,path:"/login",component:E,isAuthenticated:!!n}),Object(C.jsx)(A,{exact:!0,path:"/login/new-user",component:T}),Object(C.jsx)(q,{exact:!0,path:"/",component:I,isAuthenticated:!!n}),Object(C.jsx)(o.a,{path:"/"})]})})})},R=a(14),F=a(37),P={checking:!0},B=Object(R.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case f:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case v:return{checking:!1};default:return e}}}),J="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,G=Object(R.e)(B,J(Object(R.a)(F.a)));var K=function(){return Object(C.jsx)(b.a,{store:G,children:Object(C.jsx)(M,{})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,89)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(K,{})}),document.getElementById("root")),U()}},[[88,1,2]]]);
//# sourceMappingURL=main.cbe813aa.chunk.js.map